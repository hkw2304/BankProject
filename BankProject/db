CREATE TABLE member(
	id varchar2(100) PRIMARY KEY,
	pw varchar2(100) NOT NULL,
	name varchar2(100) NOT NULL,
	rrn varchar2(15) NOT NULL,
	phone_num varchar2(100) NOT NULL,
	address varchar2(100) NOT NULL
);

CREATE TABLE employee(
	EMPLOYEE_NUM number(6) PRIMARY KEY,
	EMPLOYEE_NAME varchar2(10) NOT NULL,
	EMPLOYEE_RRN varchar2(15),
	DEPARTMENT varchar2(10)
);


CREATE TABLE manager(
	MANAGER_ID varchar2(100) PRIMARY KEY,
	MANAGER_PW varchar2(100),
	EMPLOYEE_NUM number(6),
	foreign KEY (EMPLOYEE_NUM) REFERENCES employee(EMPLOYEE_NUM)
);

CREATE TABLE account (
	account_num	varchar2(12) PRIMARY KEY,
	id varchar2(100),
	dormant char(1) CONSTRAINT boolean_ck CHECK(dormant IN (0,1)),
	total number(10),
	FOREIGN KEY (id) REFERENCES member(id)
);

CREATE SEQUENCE remit_seq
		INCREMENT BY 1
		START WITH 0
		MINVALUE 0
		nocache
		noorder;

CREATE TABLE remit (
	num				NUMBER PRIMARY KEY,
	remit_sign 		varchar2(2) DEFAULT '-',
	account_num 	varchar2(12) NOT NULL,
	remit_account	varchar(12) NOT NULL,
	remit_text		varchar(12) NOT NULL,
	remit_money		NUMBER(10)	NOT NULL,
	remit_date		DATE DEFAULT sysdate,
	FOREIGN KEY (account_num) REFERENCES account(account_num)
);

CREATE TABLE plus(
	num NUMBER PRIMARY KEY,
	PLUS_SIGN	VARCHAR2(2) DEFAULT '+',
	ACCOUNT_NUM	VARCHAR2(100),
	PLUS_TEXT	VARCHAR2(8),
	PLUS_MONEY	NUMBER(10),
	PLUS_DATE	DATE DEFAULT sysdate,
	FOREIGN KEY(ACCOUNT_NUM) REFERENCES account(account_num)
);

CREATE SEQUENCE plus_seq
	INCREMENT BY 1
	START WITH 0
	MINVALUE 0
	nocache
	noorder;
	

ALTER TABLE remit RENAME COLUMN remit_date TO exchage_date;
ALTER TABLE plus RENAME COLUMN plus_date TO exchage_date;
ALTER TABLE remit RENAME COLUMN remit_sign TO exchange_sign;
ALTER TABLE plus RENAME COLUMN plus_sign TO exchange_sign;
ALTER TABLE remit RENAME COLUMN remit_money TO exchange_money;
ALTER TABLE plus RENAME COLUMN plus_money TO exchange_money;